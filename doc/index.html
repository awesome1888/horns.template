<script src="../src/parser.js"></script>

<script>
	var p = new Template("   Это тестовый {{   TEMPL.ATE}} {{	testHelper }} и {{if oneHelper one.Helper.Value}} по условию {{elseif anotherHelper}} по {{if hz hzVal}}другому{{else}}этому{{endif}} условию {{ else }} иначе ... {{endif}} после условия {{{  unescaped }}}");

	console.dir(p.getStruct());

	p.registerHelper('testHelper', function(obj){
		return 'результат тестового хелпера';
	});
	p.registerHelper('oneHelper', function(obj){
		//console.dir(arguments);
		return false;
	});
	p.registerHelper('hz', function(obj){
		return false;
	});
	p.registerHelper('anotherHelper', function(){
		return true;
	});

	var obj = {
		'TEMPL': {'ATE': 'полная жопа'},
		'unescaped': 'unescaped',
		'one': {'Helper': {'Value':'ohv'}}
	};

	console.dir(p.get(obj));
</script>